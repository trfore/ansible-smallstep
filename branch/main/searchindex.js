Search.setIndex({"alltitles": {"Additional Guides and References": [[0, "additional-guides-and-references"], [1, "additional-guides-and-references"]], "CA Directory Layout": [[0, "ca-directory-layout"], [0, "id3"]], "CA Server (x509 Certificates)": [[0, "ca-server-x509-certificates"]], "CA Server (x509 and SSH Certificates)": [[0, "ca-server-x509-and-ssh-certificates"]], "Collection links": [[4, "collection-links"], [5, "collection-links"], [6, "collection-links"], [7, "collection-links"], [8, "collection-links"]], "Description": [[3, "description"]], "Directory Layout": [[1, "directory-layout"]], "Entry point certs \u2013 Request x509 certificates from the step CA server": [[6, "entry-point-certs-request-x509-certificates-from-the-step-ca-server"]], "Entry point initialize \u2013 Initializes a public key infrastructure (PKI) to be used by step CA": [[5, "entry-point-initialize-initializes-a-public-key-infrastructure-pki-to-be-used-by-step-ca"]], "Entry point main \u2013 Add provisioners to Step CA": [[8, "entry-point-main-add-provisioners-to-step-ca"]], "Entry point main \u2013 Download and add the CA root certificate to trust stores": [[4, "entry-point-main-download-and-add-the-ca-root-certificate-to-trust-stores"]], "Entry point main \u2013 Install Step CLI": [[7, "entry-point-main-install-step-cli"]], "Entry point main \u2013 Install Step Certificates": [[5, "entry-point-main-install-step-certificates"]], "Entry point main \u2013 Request x509 certificates from the step CA server and automatically renew them": [[6, "entry-point-main-request-x509-certificates-from-the-step-ca-server-and-automatically-renew-them"]], "Entry point renewal \u2013 Create systemd timers to renew x509 certificates": [[6, "entry-point-renewal-create-systemd-timers-to-renew-x509-certificates"]], "Entry point service \u2013 Create systemd service for `step-ca`": [[5, "entry-point-service-create-systemd-service-for-step-ca"]], "Index of all Collection Environment Variables": [[2, "index-of-all-collection-environment-variables"]], "Multiple Certificates": [[1, "multiple-certificates"]], "OAuth2 Credentials": [[0, "oauth2-credentials"]], "Parameters": [[4, "parameters"], [5, "parameters"], [5, "id2"], [5, "id4"], [6, "parameters"], [7, "parameters"], [8, "parameters"]], "Playbook": [[0, "playbook"], [0, "id2"], [1, "playbook"], [1, "id1"]], "Plugin Index": [[3, "plugin-index"]], "Role Index": [[3, "role-index"]], "Scenario Guides": [[3, "scenario-guides"]], "Setup a Step CA Server (Non-Production)": [[0, "setup-a-step-ca-server-non-production"]], "Setup a Step Client (Machine / Server)": [[1, "setup-a-step-client-machine-server"]], "Single Certificate": [[1, "single-certificate"]], "Synopsis": [[4, "synopsis"], [5, "synopsis"], [5, "id1"], [5, "id3"], [6, "synopsis"], [6, "id1"], [6, "id2"], [7, "synopsis"], [8, "synopsis"]], "Trfore.Smallstep": [[3, "trfore-smallstep"]], "Variable Files": [[0, "variable-files"], [0, "id1"]], "trfore.smallstep.step_ca role \u2013 Install Step Certificates": [[5, "trfore-smallstep-step-ca-role-install-step-certificates"]], "trfore.smallstep.step_ca_cert role \u2013 Download and add the CA root certificate to trust stores": [[4, "trfore-smallstep-step-ca-cert-role-download-and-add-the-ca-root-certificate-to-trust-stores"]], "trfore.smallstep.step_cert role \u2013 Request x509 certificates from the step CA server and automatically renew them": [[6, "trfore-smallstep-step-cert-role-request-x509-certificates-from-the-step-ca-server-and-automatically-renew-them"]], "trfore.smallstep.step_cli role \u2013 Install Step CLI": [[7, "trfore-smallstep-step-cli-role-install-step-cli"]], "trfore.smallstep.step_provisioner role \u2013 Add provisioners to Step CA": [[8, "trfore-smallstep-step-provisioner-role-add-provisioners-to-step-ca"]]}, "docnames": ["docsite/guide_ca_nonproduction", "docsite/guide_client", "environment_variables", "index", "step_ca_cert_role", "step_ca_role", "step_cert_role", "step_cli_role", "step_provisioner_role"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1}, "filenames": ["docsite/guide_ca_nonproduction.rst", "docsite/guide_client.rst", "environment_variables.rst", "index.rst", "step_ca_cert_role.rst", "step_ca_role.rst", "step_cert_role.rst", "step_cli_role.rst", "step_provisioner_role.rst"], "indexentries": {}, "objects": {}, "objnames": {}, "objtypes": {}, "terms": {"": [1, 4], "0": [3, 4, 5, 6, 7, 8], "000000": 0, "04": 1, "1": [1, 3, 4, 5, 6, 7, 8], "10": 1, "12": 1, "123": 0, "14": 3, "15": [5, 7], "168h": 0, "17": 1, "18": 1, "1min": 1, "2": 3, "24h": [6, 8], "3339": 6, "3min": 1, "443": 5, "456": 0, "46": 1, "48": 1, "48h": 0, "7": [5, 7], "72h": 8, "A": [0, 1], "For": [0, 6], "If": [5, 7], "It": [4, 5, 6, 7, 8], "No": 2, "On": 6, "One": 6, "The": [0, 1, 2, 5, 6], "There": 3, "These": [0, 3], "To": [4, 5, 6, 7, 8], "__pkg_extens": [5, 7], "_amd64": [5, 7], "access": 0, "account": 0, "acm": [0, 1, 6, 8], "activ": 1, "add": [0, 1, 3], "addit": 6, "addition": 5, "address": [1, 5, 6], "after": [1, 6], "all": 6, "allow": 8, "alreadi": 1, "altern": 6, "an": [1, 8], "ansibl": [0, 1, 2, 3, 4, 5, 6, 7, 8], "ansible_default_ipv4": 1, "ansible_fqdn": [1, 6], "ansible_vault_kei": 0, "api": 0, "app": 0, "approach": 1, "ar": [0, 2, 3, 5], "assign": [0, 5], "assum": 1, "attempt": [1, 6], "audienc": 8, "authent": 6, "author": [0, 3], "automat": [1, 3], "avail": [0, 1], "becom": [0, 1], "been": 2, "behavior": 1, "below": 0, "beyond": 5, "bin": 7, "binari": 7, "boolean": [4, 5, 6, 8], "bug": [3, 4, 5, 6, 7, 8], "builtin": 1, "ca": [1, 3, 7], "ca_": 5, "ca_client": 1, "ca_fingerprint": 1, "ca_serv": 0, "can": [1, 5, 7], "cannot": 6, "cert": [0, 1, 8], "certif": [3, 8], "changed_when": 1, "check": [4, 5, 6, 7, 8], "checksum": [5, 7], "choic": [4, 5, 6, 8], "claim": 8, "cli": [1, 3], "cli_": 7, "client": [0, 3, 6, 7], "client01": 6, "client_id": [0, 8], "client_secret": [0, 8], "collect": 3, "com": [0, 1, 3, 5, 6, 7], "command": 1, "comment": [4, 5, 6, 7, 8], "common": 6, "complet": [0, 1], "config": 0, "config_endpoint": [0, 8], "configur": [0, 1, 2, 4, 5, 6, 8], "contain": [4, 5, 6, 8], "core": [2, 3, 4, 5, 6, 7, 8], "creat": [0, 1, 3, 8], "crt": [0, 1, 8], "custom": 5, "databas": 4, "db": 0, "declar": 2, "decret": 8, "decrypt": 5, "default": [0, 1, 4, 5, 6, 7, 8], "defin": 2, "demonstr": [0, 1], "devic": 5, "dictionari": [6, 8], "disabl": 1, "disk": [0, 5], "dn": 6, "do": 1, "doc": 0, "docker": [1, 6], "document": [2, 3], "domain": [0, 8], "download": [1, 3, 5, 7], "drive": 5, "durat": [6, 8], "e": [0, 1, 5, 6, 7, 8], "each": 6, "element": [6, 8], "email": 8, "empti": [5, 7], "enabl": [5, 6, 8], "encrypt": [0, 5], "etc": [0, 1, 4, 5, 6, 8], "exampl": [0, 1, 6], "exce": 6, "exist": 5, "expir": 8, "extern": 0, "extract": 1, "failed_when": 1, "fals": [1, 4, 5, 6, 8], "featur": [3, 4, 5, 6, 7, 8], "file": [1, 5, 6, 8], "fingerprint": [1, 4], "firefox": 4, "folder": [4, 5, 6, 8], "follow": [0, 1, 2, 5], "fore": 3, "form": [0, 5], "format": 8, "fqdn": 1, "fri": 1, "from": [0, 1, 3, 5], "g": [0, 1, 5, 6, 7, 8], "galaxi": [4, 5, 6, 7, 8], "gather_fact": [0, 1], "gcp": 0, "gener": [0, 3, 5], "get": 1, "github": [0, 1, 3, 5, 7], "global": 1, "gmail": 0, "googl": 0, "grep": 6, "group": 1, "group_var": [0, 1], "have": 2, "host": [0, 1, 6], "host01": 1, "hostvar": 1, "how": [0, 1], "howev": [0, 5], "http": [0, 1, 3, 5, 7], "i": [0, 1, 4, 5, 6, 7, 8], "id": 8, "ident": 0, "idp": 0, "import": [0, 1, 5, 6], "includ": [4, 5, 6, 7, 8], "inform": 1, "infrastructur": 3, "instal": [0, 1, 3, 4, 6, 8], "intend": 8, "intermedi": 5, "intermediate_ca": 0, "intermediate_ca_kei": 0, "ip": [1, 6], "issu": [0, 3, 4, 5, 6, 7, 8], "java": 4, "json": 0, "jwk": 5, "kei": [0, 1, 3, 4, 6], "keyregistri": 0, "known": 0, "known_host": 0, "last": 1, "latest": [5, 7], "left": 1, "like": 0, "link": [0, 1], "list": [0, 1, 4, 5, 6, 7, 8], "listen": 5, "local": [0, 5, 6], "lock": 0, "log": [0, 5], "machin": [0, 3], "manag": [5, 7], "manifest": 0, "mask": [0, 5], "match": [1, 6], "max": [6, 8], "move": 5, "n": 1, "name": [0, 1, 5, 6, 8], "need": 1, "new": [5, 7, 8], "newer": 3, "next": [0, 1], "non": [1, 3, 5], "not_aft": 6, "note": 6, "nss": 4, "oauth": 0, "obtain": 8, "oidc": [0, 8], "onli": [0, 1, 5], "openid": 0, "option": 4, "overridden": [5, 7], "packag": [5, 7], "part": [4, 5, 6, 7, 8], "pass": 1, "password": [0, 5], "password01": 0, "password02": 0, "path": [0, 1, 4, 5, 6, 7, 8], "pem": [5, 8], "perform": 0, "pki": [1, 3], "playbook": [4, 5, 6, 7, 8], "plugin": 2, "possibl": 5, "present": 0, "privat": 0, "product": [1, 3, 5], "production": 5, "provid": 0, "provis": 8, "provision": [0, 1, 3, 5, 6], "proxi": [0, 5, 7], "pub": 0, "public": 3, "rc": 1, "read": [0, 5], "regist": 1, "releas": [5, 7], "remov": 5, "renew": [1, 3, 8], "renewal_after_expiri": [0, 8], "report": [3, 4, 5, 6, 7, 8], "repositori": [3, 4, 5, 6, 7, 8], "request": [1, 3, 4, 5, 7, 8], "requir": [4, 5, 8], "restart": [1, 6], "rfc": 6, "role": [0, 1], "root": [1, 3, 5, 6, 8], "root_ca": [0, 1, 8], "root_ca_kei": 0, "run": [0, 4, 5, 6, 7, 8], "san": 6, "san_0": [1, 6], "san_1": 6, "scope": 5, "secret": 0, "section": 0, "secur": [4, 5], "see": 0, "semver": [5, 7], "sensit": [0, 5], "server": [3, 7, 8], "servic": [1, 6], "set": [1, 2, 6], "setup": 3, "skip": [0, 5, 7], "smallstep": [0, 1], "sourc": [3, 4, 5, 6, 7, 8], "specifi": [4, 5, 6, 7, 8], "ssh": [5, 8], "ssh_host_ca_kei": 0, "ssh_user_ca_kei": 0, "sshd_config": 0, "sshpop": [0, 8], "ssl": 5, "stdout": 1, "step": [3, 4], "step_ca": [0, 3], "step_ca_address": 5, "step_ca_cert": [1, 3], "step_ca_cert_firefox": 4, "step_ca_cert_java": 4, "step_ca_checksum": 5, "step_ca_enable_servic": [0, 5], "step_ca_fingerprint": [1, 4], "step_ca_initi": [0, 5], "step_ca_nam": [0, 5], "step_ca_password": [0, 5], "step_ca_path": [0, 4, 5, 6, 8], "step_ca_pkg_src": 5, "step_ca_provisioner_password": [0, 5], "step_ca_root_cert": 5, "step_ca_root_kei": 5, "step_ca_root_key_password": 5, "step_ca_ssh_mgmt": [0, 5], "step_ca_url": [1, 4], "step_ca_vers": 5, "step_cert": [1, 3], "step_cert_list": [1, 6], "step_cert_renew": 6, "step_cert_renewal_restart_svc": [1, 6], "step_cli": [1, 3], "step_cli_checksum": 7, "step_cli_pkg_src": 7, "step_cli_vers": 7, "step_config": 0, "step_includ": 0, "step_provision": [0, 3], "store": [0, 1, 3, 5, 6], "string": [4, 5, 6, 7, 8], "subject": [1, 6], "submit": [3, 4, 5, 6, 7, 8], "support": 3, "system": [0, 1, 4, 5], "systemctl": [1, 6], "systemd": 1, "task": [1, 5], "taylor": 3, "templat": [0, 6], "them": 3, "thi": [0, 1, 4, 5, 6, 7, 8], "thu": [1, 6], "time": 6, "timer": 1, "tl": 5, "token": [6, 8], "tpl": 0, "tracker": [3, 4, 5, 6, 7, 8], "tree": 1, "trfore": [0, 1], "true": [0, 1, 4, 5, 6, 8], "trust": [1, 3], "two": [0, 5, 6], "txt": [0, 5, 7], "type": [0, 8], "unit": [1, 5], "uri": 4, "url": [5, 7, 8], "us": [0, 1, 2, 3, 4, 6, 7, 8], "usb": 5, "user": [0, 5], "usr": 7, "utc": 1, "v": [5, 7], "valid": 8, "valu": [0, 5, 6], "var": [0, 1], "variabl": [1, 5], "vars_fil": 0, "vault": [0, 5], "vault_oidc_client_id": 0, "vault_oidc_client_secret": 0, "vault_step_ca_password": 0, "vault_step_ca_provisioner_password": 0, "version": [3, 4, 5, 6, 7, 8], "via": 1, "view": 6, "vlog": 0, "well": [0, 1], "when": [5, 7], "whether": [4, 5, 6, 7, 8], "which": 1, "work": 1, "workspac": 0, "would": 0, "write": [0, 5], "x509": [1, 3, 8], "x509_default_dur": [0, 8], "x509_max_dur": [0, 8], "x5c": 8, "x5c_root": 8, "xx": 1, "xxxx": 1, "yml": [0, 1], "you": [0, 1], "yubikei": 5}, "titles": ["Setup a Step CA Server (Non-Production)", "Setup a Step Client (Machine / Server)", "Index of all Collection Environment Variables", "Trfore.Smallstep", "trfore.smallstep.step_ca_cert role \u2013 Download and add the CA root certificate to trust stores", "trfore.smallstep.step_ca role \u2013 Install Step Certificates", "trfore.smallstep.step_cert role \u2013 Request x509 certificates from the step CA server and automatically renew them", "trfore.smallstep.step_cli role \u2013 Install Step CLI", "trfore.smallstep.step_provisioner role \u2013 Add provisioners to Step CA"], "titleterms": {"add": [4, 8], "addit": [0, 1], "all": 2, "automat": 6, "ca": [0, 4, 5, 6, 8], "cert": 6, "certif": [0, 1, 4, 5, 6], "cli": 7, "client": 1, "collect": [2, 4, 5, 6, 7, 8], "creat": [5, 6], "credenti": 0, "descript": 3, "directori": [0, 1], "download": 4, "entri": [4, 5, 6, 7, 8], "environ": 2, "file": 0, "from": 6, "guid": [0, 1, 3], "index": [2, 3], "infrastructur": 5, "initi": 5, "instal": [5, 7], "kei": 5, "layout": [0, 1], "link": [4, 5, 6, 7, 8], "machin": 1, "main": [4, 5, 6, 7, 8], "multipl": 1, "non": 0, "oauth2": 0, "paramet": [4, 5, 6, 7, 8], "pki": 5, "playbook": [0, 1], "plugin": 3, "point": [4, 5, 6, 7, 8], "product": 0, "provision": 8, "public": 5, "refer": [0, 1], "renew": 6, "request": 6, "role": [3, 4, 5, 6, 7, 8], "root": 4, "scenario": 3, "server": [0, 1, 6], "servic": 5, "setup": [0, 1], "singl": 1, "smallstep": [3, 4, 5, 6, 7, 8], "ssh": 0, "step": [0, 1, 5, 6, 7, 8], "step_ca": 5, "step_ca_cert": 4, "step_cert": 6, "step_cli": 7, "step_provision": 8, "store": 4, "synopsi": [4, 5, 6, 7, 8], "systemd": [5, 6], "them": 6, "timer": 6, "trfore": [3, 4, 5, 6, 7, 8], "trust": 4, "us": 5, "variabl": [0, 2], "x509": [0, 6]}})